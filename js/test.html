<!DOCTYPE html>  
<html lang="en">  
<head>  
    <meta charset="UTF-8" />  
    <title>HTML5 File API</title>  
</head>  
<body>  
    <div id="main">  
        <h1>Upload Your Images</h1>  
        <form method="post" enctype="multipart/form-data"  action="upload.php">  
            <input type="file" name="images" id="images" multiple />  
            <button type="submit" id="btn">Upload Files!</button>  
        </form>  
        <div id="response"></div>  
        <ul id="image-list">  
        </ul>  
    </div>  
	
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>  
    <script>
var formdata = false;  
var fileList ;
var selected_file;
//var selected_file = $('input.fileSelector').get(0).files[0];
if (window.FormData) {  
        formdata = new FormData();  
document.getElementById("btn").style.display = "none";  
    }  
};  
var inputElement = $('input.fileSelector');
inputElement.addEventListener("change", handleFiles, false);
function handleFiles(){
fileList = this.files;
selected_file = fileList.files[0];
}

if ( window.FileReader ) {  
    reader = new FileReader();  
    reader.onloadend = function (e) {  
        showUploadedItem(e.target.result);  
    };  
    reader.readAsDataURL(file);  
}

if (formdata) {  
    formdata.append("images[]", file);  
}  

if (formdata) {  
    $.ajax({  
        url: "upload.php",  
        type: "POST",  
        data: formdata,  
        processData: false,  
        contentType: false,  
        success: function (res) {  
            document.getElementById("response").innerHTML = res;  
        }  
    });  
}  
    
function showUploadedItem (source) {  
    var list = $("image-list");
    var  li   = document.createElement("li"),  
        img  = document.createElement("img");  
    img.src = source;  
    li.appendChild(img);  
    list.appendChild(li);  
}  
</script>  
</body>  
</html>  